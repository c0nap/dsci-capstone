[pytest]

##
## MARKERS
## Categorize tests by backend and functionality.
## Run all tests with a specific marker using the '-m' flag.
## Example: pytest -m "pipeline and not smoke"
##
markers =
    db: Tests for database wrapper classes
    relational: Tests for the relational database connector (MySQL/PostgreSQL)
    document: Tests for the document database connector (MongoDB)
    graph: Tests for the graph database connector (Neo4j)
    kg: Tests for KnowledgeGraph helpers and triple parsing
    smoke: Caution: Expensive! Tests heavy components and API calls
    task: Tests for staged low-level work items - may contain smoke tests!
    pipeline: Tests for staged high-level pipeline helper - may contain smoke tests!
    ingest: Tests for network-dependent dataset downloading with HuggingFace
    re: Tests for relation extraction using large models from HuggingFace
    llm: Tests for costly and network-dependent LLM prompts with LangChain
    stage_A: Tests for Pipeline Stage A  (placeholder)
    stage_B: Tests for Pipeline Stage B  (placeholder)
    stage_C: Tests for Pipeline Stage C  (placeholder)
    stage_D: Tests for Pipeline Stage D  (placeholder)
    stage_E: Tests for Pipeline Stage E  (placeholder)

##
## TEST DISCOVERY
## Keep test discovery limited to the tests/ directory.
##
testpaths =
    tests

##
## GENERAL OPTIONS
## -ra : show extra test summary info for skipped/failed/xfailed/xpassed
## -q  : quiet mode (cleaner output)
## --color=yes : force colorized output (useful in CI logs)
##
addopts =
    -ra
    -q
    --color=yes
